:root{--bg:#0b0d12;--panel:#131722;--panel-2:#0e1320;--text:#e6e9ef;--muted:#9aa4b2;--brand:#0b5cff;--chip:#1f2937;--border:#1f2a3a}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,'Noto Sans',sans-serif;background:linear-gradient(180deg,var(--panel-2),var(--bg));color:var(--text)}
.container{width:min(1100px,92%);margin-inline:auto}
.brandline{display:flex;align-items:center;gap:.6rem;margin:.2rem 0 0 0}
.logo-dot{width:28px;height:28px;border-radius:8px;background: radial-gradient(100% 100% at 20% 10%, #8bdcff, #3aa0ff);display:inline-block}
.toprow{display:flex;gap:1rem;align-items:center;justify-content:space-between;margin-top:.8rem}
.subtitle{color:var(--muted);margin-top:-.5rem}
.site-header{padding:2rem 0;border-bottom:1px solid var(--border);background:linear-gradient(180deg,var(--panel),transparent)}
.site-footer{padding:2rem 0;border-top:1px solid var(--border)}
.search-panel{padding:1.2rem 0}
.search-box{flex:1;display:flex;align-items:center;gap:.5rem}
.search-box input{width:100%;padding:.9rem 1.1rem;border-radius:.7rem;border:1px solid var(--border);background:#0a0f1a;color:var(--text);font-size:1rem}
.kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;border:1px solid var(--border);background:var(--chip);border-radius:.4rem;padding:.05rem .35rem;font-size:.78rem;color:var(--muted)}
.view-toggles{display:flex;gap:.6rem;align-items:center}
.view-toggles label{display:inline-flex;gap:.35rem;align-items:center;font-size:.9rem;color:var(--muted)}

.results{list-style:none;margin:.8rem 0 0;padding:0;display:grid;gap:.4rem}
.result-item{display:flex;justify-content:space-between;align-items:center;padding:.7rem 1rem;background:var(--panel);border:1px solid var(--border);border-radius:.6rem;cursor:pointer}
#results li:hover{filter:brightness(1.05)}

.player-section{margin:1.4rem 0}
.player-hero{display:flex;gap:1rem;align-items:center;margin-bottom:1rem}
.player-photo{width:72px;height:72px;object-fit:cover;border-radius:12px;border:1px solid var(--border);background:#0a0f1a}
.player-id{display:flex;flex-direction:column;gap:.4rem}
.player-name{margin:0}
.player-meta{display:flex;flex-wrap:wrap;gap:.5rem}
.player-badges{display:flex;flex-wrap:wrap;gap:.4rem}

.badge{padding:.25rem .5rem;border-radius:999px;font-size:.78rem;border:1px solid var(--border);background:var(--chip);color:var(--text)}
.badge.warn{background:#342a12;border-color:#5d4511;color:#f8d07b}
.badge.alert{background:#3b1111;border-color:#5d1111;color:#f6a4a4}
.badge.info{background:#0d273e;border-color:#1f3a57;color:#93c5fd}
.badge.good{background:#132e21;border-color:#1f5138;color:#a7f3d0}

.cards{display:grid;gap:1rem;grid-template-columns:repeat(3,1fr)}
.card{background:var(--panel);border:1px solid var(--border);border-radius:.8rem;overflow:hidden}
.card--attention{border-color:#f59e0b; box-shadow:0 0 0 2px rgba(245,158,11,.25) inset}
.card h3{margin:0;padding:.8rem 1rem;display:flex;align-items:center;gap:.4rem;border-bottom:1px solid var(--border);background:linear-gradient(180deg,rgba(255,255,255,.03),transparent)}
.card-body{padding:1rem;display:grid;gap:.4rem}
.expandable{margin-top:1rem}
.expandable h3{cursor:pointer}
.expandable.collapsed .card-body{display:none}
.expandable.collapsed h3::after{content:' (clic per aprire)'; font-weight:400; color:var(--muted); font-size:.85em}
.monospace{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.9rem}
.row{display:flex;justify-content:space-between;gap:1rem}
.key{color:var(--muted)}
.val{font-weight:600}
.hidden{display:none}
.spinner{display:inline-block;width:1rem;height:1rem;border:.17rem solid rgba(255,255,255,.2);border-top-color:var(--brand);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
@media (max-width:1100px){.cards{grid-template-columns:1fr 1fr}}
@media (max-width:740px){.cards{grid-template-columns:1fr}}

:root[data-theme="light"]{--bg:#f5f7fb;--panel:#ffffff;--panel-2:#f7f9ff;--text:#0b1220;--muted:#536378;--border:#dfe6ef;--chip:#f3f6fb}

mark{background:#ff0;color:#000;padding:0 .15rem;border-radius:.2rem}
:focus-visible{outline:2px solid var(--brand);outline-offset:2px;border-radius:6px}
.tip{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;border:1px solid var(--border);color:var(--muted);cursor:help}
[title]{border-bottom:1px dotted var(--border)}
[title]:hover{border-bottom-color:transparent}

/* CHIPS ruolo (P/D/C/A) */
.chip{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .6rem;border-radius:999px;font-size:.78rem;font-weight:700;letter-spacing:.2px;color:#fff}
.chip--role{border:0}
.role--P{background:#7b61ff}
.role--D{background:#22c55e}
.role--C{background:#f59e0b}
.role--A{background:#ef4444}
